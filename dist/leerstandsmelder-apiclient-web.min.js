/**
 * leerstandsmelder-apiclient - JavaScript API Client for the Leerstandsmelder API
 * @version v0.1.4
 * @link https://github.com/Leerstandsmelder/node-leerstandsmelder-apiclient
 * @license MIT
 */
!function(){var e=function(){var e="function"==typeof require&&require,t=function(n,o,r){o||(o=0);var s=t.resolve(n,o),u=t.m[o][s];if(!u&&e){if(u=e(s))return u}else if(u&&u.c&&(o=u.c,s=u.m,u=t.m[o][u.m],!u))throw new Error('failed to require "'+s+'" from '+o);if(!u)throw new Error('failed to require "'+n+'" from '+r);return u.exports||(u.exports={},u.call(u.exports,u,u.exports,t.relative(s,o))),u.exports};return t.resolve=function(e,n){var o=e,r=e+".js",s=e+"/index.js";return t.m[n][r]&&r?r:t.m[n][s]&&s?s:o},t.relative=function(e,n){return function(o){if("."!=o.charAt(0))return t(o,n,e);var r=e.split("/"),s=o.split("/");r.pop();for(var u=0;u<s.length;u++){var i=s[u];".."==i?r.pop():"."!=i&&r.push(i)}return t(r.join("/"),n,e)}},t}();e.m=[],e.m[0]={"apiclient.js":function(e,t,n){!function(){"use strict";var t={},o={},r={};e.exports.client=function(e,s,u){var i=n("./util/auth-header");return r=e,o=s,t=u,{authUtil:i,resource:function(e,n){return{action:function(s,u,c,a){var p="/"+e;null===u&&(u=void 0),"string"==typeof u?(p+="/"+u,u=null):"object"==typeof u&&"string"==typeof u.uuid&&"post"!==s.toLowerCase()&&(p+="/"+u.uuid);var f="";if("object"==typeof n){var l=[];for(var y in n)l.push(y+"="+encodeURIComponent(n[y]));f="?"+l.join("&")}r.request({url:t.host+p+f,auth:i.getTokenHeader(t.access_token),method:s,contentType:t.contentType,query:n,data:u?o.unparse(u,t.contentType):void 0},function(e,n){"function"==typeof c&&o.parse(n,t.contentType,function(t,n){e&&n&&(e.message=n.message,e.errors=n.errors),c(e,n)})},function(e,t){"function"==typeof a&&a(e,t)})}}},getToken:function(e,n){r.request({url:t.host+"/users/me/access_tokens",method:"post",contentType:t.contentType,data:o.unparse(e,t.contentType)},function(e,r){if("function"==typeof n){if(e)return n(e,null);o.parse(r,t.contentType,function(e,o){!e&&o&&(t.access_token=o),n(e,o)})}})},getCredentials:function(e){r.request({url:t.host+"/users/me/api_keys",method:"get",contentType:t.contentType,auth:i.getTokenHeader(t.access_token)},function(n,r){if("function"==typeof e){if(n)return e(n,null);o.parse(r,t.contentType,function(n,o){o=o.results||o,t.api_key||(t.api_key={}),t.api_key.key=o[0].key,t.api_key.secret=o[0].secret,e(n,o[0])})}})},setCredentials:function(e,n){return t.api_key={key:e,secret:n},t.api_key},setAccessToken:function(e){return t.access_token={token:e.token},t.access_token},authenticate:function(e){t.access_token?e(null,t.access_token.token):r.request({url:t.host+"/users/me/access_tokens",method:"post",contentType:t.contentType,data:o.unparse(t.api_key,t.contentType)},function(n,r){if("function"==typeof e){if(n)return e(n,null);o.parse(r,t.contentType,function(n,o){!n&&o&&(t.access_token=o),e(n,o)})}})}}}}()},"http/xmlhttp.js":function(e,t,n){!function(){"use strict";e.exports.request=function(e,t,n){if("undefined"==typeof XMLHttpRequest)return void("function"==typeof t&&t(new Error("XMLHttpRequest not available"),null));var o=new XMLHttpRequest;o.open(e.method,e.url,!0),o.setRequestHeader("Content-Type",e.contentType),e.auth&&o.setRequestHeader("Authorization",e.auth),o.onreadystatechange=function(){4===o.readyState&&(200===o.status||201===o.status?t(null,o.responseText):t({code:o.status,message:null},o.responseText))},o.onprogress=function(e){e.lengthComputable&&"function"==typeof n&&n(e.loaded/e.total,e.total)},e.data?o.send(e.data):o.send()}}()},"util/data-parser.js":function(e,t,n){!function(){"use strict";e.exports.parse=function(e,t,n){var o=null,r=null;try{o=JSON.parse(e)}catch(s){r=s}n(r,o)},e.exports.unparse=function(e,t){return JSON.stringify(e)}}()},"util/auth-header.js":function(e,t,n){!function(){"use strict";e.exports.getTokenHeader=function(e){return e&&"object"==typeof e&&"string"==typeof e.token?"bearer "+e.token:null},e.exports.getBasicHeader=function(e,t){return"string"==typeof e&&"string"==typeof t?"Basic "+atob(e+":"+t):null}}()},"web-leerstandsmelder-apiclient.js":function(e,t,n){!function(){"use strict";e.exports=function(e){var t=n("./http/xmlhttp"),o=n("./apiclient"),r=n("./util/data-parser");return o.client(t,r,e)}}()}},LMApi=e("web-leerstandsmelder-apiclient.js")}();